<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tableau Embed with JWT</title>
    <script type="module" src="https://us-east-1.online.tableau.com/javascripts/api/tableau.embedding.3.latest.min.js"></script> 
</head>
<body>
    <div id="vizContainer" style="width: 100%; height: 100vh;"></div>

    <tableau-viz id="tableauViz" src="https://us-east-1.online.tableau.com/t/conferanalytics/views/OlderAdultsintheUSandTheirCharacteristicsbyCountyLevel2020/ACSbycounty" token="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzY3AiOiJ0YWJsZWF1OnZpZXdzOmVtYmVkIiwiaXNzIjoiNjYwMWI0ZjQtYWY4Yy00YzJiLWE1NjctMDUxYzhkY2RjZDI0IiwiYXVkIjoiNjYwMWI0ZjQtYWY4Yy00YzJiLWE1NjctMDUxYzhkY2RjZDI0IiwiZXhwIjoxNzM1Njk4OTU2LjMwNDN9.MGExMWFlNDY0NDMwM2U1NTI0MTBjMzgyOTRlODg2ZTljNzRkNzQ4ZGUwM2Y4YjAxZGRkOWFiYmY5ZTExNzQzNg==" style="width: 100%; height: 100vh;"></tableau-viz>

    <script type="module">
        // 监听加载完成事件
        const viz = document.getElementById('tableauViz');
        viz.addEventListener('tableau-event-ready', () => {
            console.log("Tableau visualization loaded successfully.");
        });

        // 监听加载错误事件
        viz.addEventListener('tableau-event-load-error', (event) => {
            console.error("Error loading Tableau visualization:", event.detail);
        });
    </script>
</body>
</html>
